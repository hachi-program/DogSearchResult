{"ast":null,"code":"import React,{useState,useEffect}from'react';import{collection,getDocs}from\"firebase/firestore\";import{db}from\"./firebase.js\";import Question from'./Question.js';import Result from'./Result.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[currentQuestion,setCurrentQuestion]=useState(0);const[answers,setAnswers]=useState([]);const[selectedBreed,setSelectedBreed]=useState(null);const[breedMapping,setBreedMapping]=useState({});// firebase„Åã„Çâ„Éá„Éº„Çø„ÇíÂèñÂæó„Åô„Çã\nuseEffect(()=>{const fetchBreeds=async()=>{const querySnapshot=await getDocs(collection(db,\"breeds\"));const breedsData={};querySnapshot.forEach(doc=>{breedsData[doc.id]=doc.data();});setBreedMapping(breedsData);};fetchBreeds();},[]);const questions=[{question:\"ËÄ≥„ÅØÁ´ã„Å£„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü\",options:[\"„ÅØ„ÅÑ\",\"„ÅÑ„ÅÑ„Åà\"]},{question:\"ËÉ¥„ÅØÈï∑„ÅÑ„Åß„Åô„ÅãÔºü\",options:[\"„ÅØ„ÅÑ\",\"„ÅÑ„ÅÑ„Åà\"]},{question:\"Ë∂≥„ÅØÈï∑„ÅÑ„Åß„Åô„ÅãÔºü\",options:[\"„ÅØ„ÅÑ\",\"„ÅÑ„ÅÑ„Åà\"]}];const determineBreed=answers=>{const conditions={\"„ÅØ„ÅÑ-„ÅØ„ÅÑ-„ÅØ„ÅÑ\":\"germanshepherd\",\"„ÅØ„ÅÑ-„ÅØ„ÅÑ-„ÅÑ„ÅÑ„Åà\":\"corgi\",\"„ÅØ„ÅÑ-„ÅÑ„ÅÑ„Åà-„ÅØ„ÅÑ\":\"doberman\",\"„ÅÑ„ÅÑ„Åà-„ÅØ„ÅÑ-„ÅØ„ÅÑ\":\"dachshund\",\"„ÅÑ„ÅÑ„Åà-„ÅÑ„ÅÑ„Åà-„ÅØ„ÅÑ\":\"labrador\",\"„ÅÑ„ÅÑ„Åà-„ÅÑ„ÅÑ„Åà-„ÅÑ„ÅÑ„Åà\":\"pug\"};const key=answers.join(\"-\");const breedKey=conditions[key]||\"pug\";return{en:breedKey,...breedMapping[breedKey]};};// ÂõûÁ≠îÂÜÖÂÆπ„ÇíÈÖçÂàó„Å´Ê†ºÁ¥ç„Åô„Çã\nconst handleAnswer=answer=>{const updatedAnswers=[...answers,answer];setAnswers(updatedAnswers);if(currentQuestion<questions.length-1){setCurrentQuestion(currentQuestion+1);}else{const breed=determineBreed(updatedAnswers);setSelectedBreed(breed);}};// „ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Çí„Åô„ÇãÔºàÁä∂ÊÖã„Çí„É™„Çª„ÉÉ„ÉàÔºâ\nconst retryDiagnosis=()=>{setCurrentQuestion(0);setAnswers([]);setSelectedBreed(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4 text-primary\",children:\"\\u3042\\u306E\\u72AC\\u306E\\u7A2E\\u985E\\u306F\\uFF1F\\uD83D\\uDC15\"}),selectedBreed?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Result,{breed:selectedBreed}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mt-3\",onClick:retryDiagnosis,children:\"\\u3082\\u3046\\u4E00\\u5EA6\\u8A3A\\u65AD\\u3059\\u308B\"})]}):/*#__PURE__*/_jsx(Question,{question:questions[currentQuestion].question,options:questions[currentQuestion].options,onAnswer:handleAnswer})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","collection","getDocs","db","Question","Result","jsx","_jsx","jsxs","_jsxs","App","currentQuestion","setCurrentQuestion","answers","setAnswers","selectedBreed","setSelectedBreed","breedMapping","setBreedMapping","fetchBreeds","querySnapshot","breedsData","forEach","doc","id","data","questions","question","options","determineBreed","conditions","key","join","breedKey","en","handleAnswer","answer","updatedAnswers","length","breed","retryDiagnosis","className","children","onClick","onAnswer"],"sources":["C:/Users/kjtke/OneDrive/Desktop/WORK/02_Áä¨„Ç¢„Éº„Ç≠„Éç„Éº„Çø„Éº/dog-breed-identifier/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"./firebase.js\";\nimport Question from './Question.js';\nimport Result from './Result.js';\n\nfunction App() {\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [answers, setAnswers] = useState([]);\n  const [selectedBreed, setSelectedBreed] = useState(null);\n  const [breedMapping, setBreedMapping] = useState({});\n// firebase„Åã„Çâ„Éá„Éº„Çø„ÇíÂèñÂæó„Åô„Çã\n  useEffect(() => {\n    const fetchBreeds = async () => {\n      const querySnapshot = await getDocs(collection(db, \"breeds\"));\n      const breedsData = {};\n      querySnapshot.forEach(doc => {\n        breedsData[doc.id] = doc.data();\n      });\n      setBreedMapping(breedsData);\n    };\n\n    fetchBreeds();\n  }, []);\n\n  const questions = [\n    { question: \"ËÄ≥„ÅØÁ´ã„Å£„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü\", options: [\"„ÅØ„ÅÑ\", \"„ÅÑ„ÅÑ„Åà\"] },\n    { question: \"ËÉ¥„ÅØÈï∑„ÅÑ„Åß„Åô„ÅãÔºü\", options: [\"„ÅØ„ÅÑ\", \"„ÅÑ„ÅÑ„Åà\"] },\n    { question: \"Ë∂≥„ÅØÈï∑„ÅÑ„Åß„Åô„ÅãÔºü\", options: [\"„ÅØ„ÅÑ\", \"„ÅÑ„ÅÑ„Åà\"] }\n  ];\n\n  const determineBreed = (answers) => {\n    const conditions = {\n      \"„ÅØ„ÅÑ-„ÅØ„ÅÑ-„ÅØ„ÅÑ\": \"germanshepherd\",\n      \"„ÅØ„ÅÑ-„ÅØ„ÅÑ-„ÅÑ„ÅÑ„Åà\": \"corgi\",\n      \"„ÅØ„ÅÑ-„ÅÑ„ÅÑ„Åà-„ÅØ„ÅÑ\": \"doberman\",\n      \"„ÅÑ„ÅÑ„Åà-„ÅØ„ÅÑ-„ÅØ„ÅÑ\": \"dachshund\",\n      \"„ÅÑ„ÅÑ„Åà-„ÅÑ„ÅÑ„Åà-„ÅØ„ÅÑ\": \"labrador\",\n      \"„ÅÑ„ÅÑ„Åà-„ÅÑ„ÅÑ„Åà-„ÅÑ„ÅÑ„Åà\": \"pug\"\n    };\n\n    const key = answers.join(\"-\");\n    const breedKey = conditions[key] || \"pug\";\n    return { en: breedKey, ...breedMapping[breedKey] };\n  };\n// ÂõûÁ≠îÂÜÖÂÆπ„ÇíÈÖçÂàó„Å´Ê†ºÁ¥ç„Åô„Çã\n  const handleAnswer = (answer) => {\n    const updatedAnswers = [...answers, answer];\n    setAnswers(updatedAnswers);\n\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n    } else {\n      const breed = determineBreed(updatedAnswers);\n      setSelectedBreed(breed);\n    }\n  };\n\n    // „ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Çí„Åô„ÇãÔºàÁä∂ÊÖã„Çí„É™„Çª„ÉÉ„ÉàÔºâ\n    const retryDiagnosis = () => {\n      setCurrentQuestion(0);\n      setAnswers([]);\n      setSelectedBreed(null);\n    };\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"mt-4 text-primary\">„ÅÇ„ÅÆÁä¨„ÅÆÁ®ÆÈ°û„ÅØÔºüüêï</h1>\n      {selectedBreed ? (\n        <div>\n        <Result breed={selectedBreed} />\n        <button className=\"btn btn-danger mt-3\" onClick={retryDiagnosis}>\n          „ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Åô„Çã\n        </button>\n      </div>\n      ) : (\n        <Question\n          question={questions[currentQuestion].question}\n          options={questions[currentQuestion].options}\n          onAnswer={handleAnswer}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}